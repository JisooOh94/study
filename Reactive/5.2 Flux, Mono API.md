# Mono
<details>
<summary style="font-size : 40px;"><strong>and</strong></summary></br>

* source Mono 와 파라미터로 전달된 Mono의 처리 완료 시그널을 하나로 합쳐, 두 Mono 모두 처리 완료 시 하나의 Mono<Void> 반환
* source Mono subscribe 후, 파라미터 Mono subscribe
#### API interface

```java
Mono<Void> and(Publisher<?> other)
```

#### example
```java
public void and() {
	Mono<String> mono_1 = Mono.just("mono_1").map(data -> {
    	logger.info("mono_1 start");
    	Thread.sleep(5000);
    	logger.info("mono_1 finish");
    	return data;
    });
    Mono<String> mono_2 = Mono.just("mono_2").map(data -> {
		logger.info("mono_2 start");
		Thread.sleep(1000);
		logger.info("mono_2 finish");
		return data;
	});
	
    Mono<Void> combinedResultMono = mono_1.and(mono_2);
	combinedResultMono.doOnSuccess(result->logger.info("result finished")).block();
}
    
//출력 결과
08:53:08.291 [main] INFO com.jisoooh.bulletinboard.WebFluxTest - mono_1 start
08:53:09.291 [main] INFO com.jisoooh.bulletinboard.WebFluxTest - mono_1 finish
08:53:09.291 [main] INFO com.jisoooh.bulletinboard.WebFluxTest - mono_2 start
08:53:10.292 [main] INFO com.jisoooh.bulletinboard.WebFluxTest - mono_2 finish
08:53:10.292 [main] INFO com.jisoooh.bulletinboard.WebFluxTest - result finished
```
</details></br>

<details>
<summary style="font-size : 40px;"><strong>as</strong></summary></br>

* mono 를 다른 타입의 mono/flux 로 변환, 가공
* map 과 거의 비슷한 기능이나 map 은 파라미터가 element 라면, as 는 Mono<element> 임

#### API interface
```java
P as(Function,P> transformer)
```

#### example
```java
private Mono<Integer> parseStringMono(Mono<String> mono) {
	return mono.map(Integer::parseInt);
}

public void as() {
	Mono<Integer> integerMono_1 = Mono.just("1234").map(Integer::parseInt);
	
	Mono<String> stringMono = Mono.just("1234");
	Mono<Integer> integerMono_2 = parseStringMono(stringMono);
	
	Mono<Integer> integerMono_3 = Mono.just("1234").as(this::parseStringMono); //integerMono_2 에 비해 더 간결하게 작성 가능
}
```

</details></br>

<details>
<summary style="font-size : 20px;"><strong>block</strong></summary></br>

* Mono 의 subscribe 가 완료될때까지 스레드 대기 및 최종 결과 반환
* blocking 방식으로 동작하므로 사용 지양

#### API interface
```java
Optional<T> blockOptional()
Optional<T> blockOptional(Duration timeout)
Optional<T> blockOptional()
Optional<T> blockOptional(Duration timeout)
```

#### example
```java
String result = Mono.just("mono").map(data -> {
		Thread.sleep(1000);
		return data;
	}).block();  //block 으로 인해 Thread.sleep 시 스레드가 다른작업을 수행하지 않고 대기
```
</details></br>

<details>
<summary style="font-size : 40px;">cast<strong></strong></summary></br>

* Mono 의 element 타입을 형변환
* 상속관계인 자식 > 부모 클래스로의 형변환 가능
* 형변환할 수 없는 타입일 경우 ClassCastException발생

#### API interface
```java
Mono<E> cast(Class<E> clazz)
```

#### example
```java
Mono<Object> objectMono = Mono.just(“1234”).cast(Object.class);
Mono<Integer> intMono = Mono.just(“1234”).cast(Integer.class); //형변환 불가, ClassCastException발생 발생
```

</details></br>

<details>
<summary style="font-size : 40px;">ofType<strong></strong></summary></br>

* Mono 의 element 타입을 형변환
* 상속관계인 자식 > 부모 클래스로의 형변환 가능
* 형변환할 수 없는 타입일 경우 empty 반환

#### API interface
```java
Mono<U> ofType(Class<U> clazz)
```

#### example
```java
Mono<Integer> intMono = Mono.just("1234").ofType(Integer.class); //empty Mono 반환
```

</details></br>


<details>
<summary style="font-size : 40px;"><strong></strong></summary></br>

</details></br>
