# 단위 테스트 스타일 종류
### 출력 기반 테스트 스타일
* 테스트 대상 시스템에 입력을 넣고, 반환되는 출력값만 검증하는 테스트 스타일
* 테스트 대상 시스템의 함수가 사이드 이펙트(e.g. 내부 필드 값 변화 등)를 발생시키지 않는 함수형 프로그래밍 방식의 함수일때 사용 가능

### 상태 기반 테스트 스타일
* 테스트 대상 시스템의 작업이 완료된 후, 시스템의 상태(e.g. 멤버 필드값의 변경, db 데이터 변경, 파일 데이터 변경등)를 검증하는 테스트 스타일

### 통신 기반 테스트 스타일
* mock 을 이용하여 테스트 대상 시스템과 협력자간의 통신을 검증하는 테스트 스타일

# 좋은 단위 테스트 4가지 특성에 기반한 단위 테스트 스타일 비교
### 회귀방지성
* 기존 기능 개선, 새로운 기능 출시등을 위해 코드를 수정한 후, 수정한 코드에 버그가 발생했을때 이를 테스트코드가 얼마나 잘 잡아내는지 정도
* 회귀방지성은 테스트 스타일 모두 동일하다. 굳이 따지자면 출력 기반 테스트 스타일이 약간 더 떨어지고 상태 기반 테스트 스타일, 통신 기반 테스트 스타일이 약간 더 높은정도
    * 출력 기반 테스트 스타일도 메서드 결과값을 검증하므로 회귀방지성이 좋다. 하지만 사이드 이펙트가 발생하는 메서드일경우 사이드 이펙트를 검증하진 못하므로 다른 2개의 스타일에 비해 약간 회귀방지성이 떨어진다

### 피드백 속도
* 테스트 스위트 수행 속도를 나타내는 지표
* 테스트 스타일에 상관 없이 테스트가 외부 의존성과 떨어져 단위 테스트 영역에 있다면 피드백 속도는 항상 빠르다.

### 리팩터링 내성
* 코드를 리팩터링 했을떄, 테스트코드가 실패하지 않는지에 대한 척도
* 테스트 코드가 sut의 구현 세부사항에 강결합 될 수록 리팩터링 내성이 떨어지므로 통신 기반 테스트 스타일, 상태 기반 테스트 스타일은 리팩터링 내성이 떨어지고 출력 기반 테스트 스타일이 가장 뛰어나다.

### 유지 보수성
* 테스트 코드가 유지보수 하는 데에 용이한가를 나타내는 지표. 이떄의 유지보수는 테스트를 이해하기 쉬운 정도 뿐만 아니라 테스트를 실행하기 쉬운 정도도 포함된다.
* 출력 기반 테스트 스타일은 입력 - 출력만 검증하므로 테스트 코드가 간결하여 이해하기에도 쉽고 실행하기에도 쉽다. 가장 유지 보수성이 뛰어나다
* 상태 기반 테스트 스타일은 sut 수행 결과로 발생하는 모든 사이드 이펙트를 검증해야하므로 테스트 코드의 검증부가 길어져 유지 보수성이 떨어진다.
    * e.g. 사이드 이펙트 검증부를 헬퍼 메서드로 분리하거나 검증문 라이브러리(e.g. Assertions) 를 사용하여 간결하게 표현할 수는 있다. 그럼에도 출력 기반 테스트 스타일보단 유지보수성이 떨어진다.
* 통신 기반 테스트 스타일은 테스트 대역과 상호 작용을 설정해야하기 때문에 테스트 코드 조건부가 길어져 유지 보수성이 떨어진다.

### 비교 결과
* 출력 기반 테스트가 가장 좋은 단위 테스트 조건에 부합하므로 항상 다른 테스트 스타일보단 출력 기반 테스트 스타일을 우선적으로 적용하는것이 좋다.