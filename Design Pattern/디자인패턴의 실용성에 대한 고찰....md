# 디자인패턴의 실용
### 디자인패턴은 코드 가독성을 높혀주지 않는다
* 디자인 패턴 입문자들은 보통 패턴 적용시 코드가 깔끔해지고 가독성이 높아질거라 생각하는 경우가 많음
* 하지만 실상은 패턴으로 인해 오히려 클래스 구조가 복잡해지고 코드가 길어지며 로직이 이곳저곳에 흩어져 가독성이 오히려 떨어지는 경우가 많음

켄트벡의 TDD(Test Driven Development)관련 책에서도 엉뚱하게 사용된 디자인 패턴 때문에 다시 리팩토링하는 상황을 그대로 쓰고 있으며, 패턴 적용의 어려운 점을 지면을 할애해 이야기하고 있다.

### 패턴중독에 걸리기 쉽다
* 디자인 패턴은 과거의 수많은 프로젝트에서 반복적으로 겪는 다양한 문제들에 대한 해결책들을 패턴화하여 효율적인 해법으로 정립해둔것이다.
* 그러나 실무에서 마주치는 현실문제들은 매우 다양하고 특수성을 띄고있어 디자인 패턴으론 해결할 수 없는경우가 더 많으며, 개발자가 사고를 통해 유연하게 대처해야한다.
* 하지만 패턴 중독자들은 디자인 패턴을 '문제의 해결책중 하나'가 아닌 소프트웨어 구성요소로 여기고, 문제가 주어지면 실질적인 해결책을 찾기보다 자신의 디자인 패턴 목록에서 가장 그럴듯하게 들어맞는 패턴을 찾는다.
* 이러한 패턴 중독은 디자인 패턴에 갓 입문한 개발자 뿐만 아니라 시니어 개발자에게서도 나타날 수 있으며 디자인 패턴에 관한 세련된 글을 읽고 매료되거나, 구루 개발자의 경험, 발언을 맹신하거나, 혹은 자신의 지식을 과시하고싶은 욕구에서부터 주로 시작된다.
* 문제에 대한 실질적인 해결책을 찾는것이 더 중요하다. 디자인 패턴으로 문제가 해결될 수 있어도 코드 간결성이 떨어진다면 다른 해결책을 찾아봐야하며, 이미 적용되어있는 디자인 패턴으로 인해 구조가 망가지고있다면 리팩토링을 통해 과감하게 패턴을 걷어낼 수도 있어야한다.

### 디자인패턴은 완전하지 않다
* GoF 의 패턴중 대표적으로 싱글턴패턴은 안티패턴으로 지정되어 사용하지 않기를 권장한다. 이와같이 GoF 의 패턴중에도 안티패턴으로 지정될정도로 비생산적이고 비효율적인 패턴들이 있고 이러한 부분들이 지속적으로 수정되고있으므로, 디자인 패턴 도입시 해결하고자 하는 문제와 기존 코드 구조에 끼칠 영향을 잘 파악하고 사용해야한다.
* 또한 하나의 디자인패턴도 여러가지 방법으로 구현할 수 있다. 디자인 패턴 입문자들이 흔히 저지르는 실수중의 하나가, 각 패턴에 제시된 클래스 구조 다이어그램이 해당 패턴을 구현하는 유일한 방법이라 생각하고 맹목적으로 따라하려 한다는것이다.
* 디자인 패턴의 클래스 구조 다이어그램은 명세가 아니라 단지 예제일 뿐, 자신이 해결하고자 하는 문제와 기존 코드의 구조에 맞춰 적절히 수정해가며 사용해야 한다.

### 개발 패러다임이 변화하고있다
* 디자인패턴은 기본적으로 OOP(Object Oriented Programming)의 응집성은 높이고, 의존성은 떨어뜨린다는 원칙과 맞닿아있고 그에따라 객체지향 구조 코드에 잘 어울리는것처럼 보인다.\
* 그러나 현대에 와서 개발 패러다임은 객체지향 only 에서 프로그램 요구사항에 맞춘 다양한 패러다임으로 변화하고 있어 개발자가 스스로 사용하고있는 개발패러다임에 사용하고자하는 디자인패턴이 맞는지 판단이 필요하다.
* 대표적으로 함수형 프로그래밍도 GoF 패턴중 몇몇 패턴은 잘 녹아들었으나, 몇몇 패턴은 잘 어우러지지 않는다는 의견이 많다.
    * [Do you need Design Patterns in Functional Programming?](https://dev.to/patferraggi/do-you-need-design-patterns-in-functional-programming-370c)
    * [Does functional programming replace GoF design patterns?](https://stackoverflow.com/questions/327955/does-functional-programming-replace-gof-design-patterns)

### 그럼에도 불구하고...
* 디자인패턴은 실무 개발에서도 가지는 분명한 장점이 있다.
1. 많은 프로젝트에서 반복적으로 겪는 다양한 문제의 가장 잘 정제된 해결책 중 하나
* 따라서, 현재 마주친 문제가 디자인 패턴을 이용해 해결될 수 있다는 판단만 제대로 이루어진다면, 이후의 개발 리소스를 많이 절약할 수 있다.
2. 디자인 패턴들의 이름은 매우 효율적인 의사소통 수단
* 여러 사람이 협업해서 개발할 때 다른 사람이 작성한 코드, 기존에 존재하는 코드를 이해하는 것은 어렵다. 이런 코드를 수정하거나 새로운 기능을 추가해야 하는데 의도치 않은 결과나 버그를 발생시키기 쉽고 성능을 최적화시키기도 어렵다. 이로 인해 시간과 예산이 소모된다.
* 디자인 패턴은 의사소통 수단의 일종으로서 이런 문제를 해결해준다. 예를 들어 “기능마다 별도의 클래스를 만들고, 그 기능들로 해야할 일을 한번에 처리해주는 클래스를 만들자.”라는 말보다 "Facade 패턴을 써보자."라는 말이 더 간결하고 이해하기 쉬워 커뮤니케이션 비용을 줄여준다.
* 따라서 디자인 패턴을 무분별하게 사용해서도 안되고, 배척해서도 안되며, '잘' 사용하는것이 중요하다.

### 디자인 패턴 사용 전략
* 디자인 패턴을 적용하기 전에, 최대한 단순하게 해결하는 방법을 먼저 찾아본다.
    * 디자인 패턴보다 우선되어야 하는건 코드 간결성이다. “이 문제에 어떻게 패턴을 적용할 수 있을까?”가 아니라, “어떻게 하면 단순하게 해결할 수 있을까?”에 초점을 맞춰야 한다.
    * 생각보다 디자인패턴의 복잡한 구조화를 필요로 하는 문제들은 많지 않다.
* 일단 기본적인 구현을 먼저하고, 이후 더 나은 구조로 리팩토링하는 단계에서 디자인 패턴 도입을 고려한다.
    * 리팩터링은 중복을 제거하고, 코드를 단순화하고, 코드가 그 의도를 잘 드러내도록 하는 데에 우리의 주의를 집중하도록 함으로써, 패턴을 현명하게 사용하도록 도와준다.
* 실무에선, 초기 구현당시 디자인패턴을 이용해 높은 응집도와 낮은 의존성의 깔끔한 구조로 설계를 했어도, 이후 운영을 거치며 여러번 수정 및 기능 추가가되어 더이상 디자인 패턴이 제 역할을 하지 못하게되는 경우가 많다. 이럴땐 과감히 디자인 패턴을 걷어내고 간결한 구조로 가는것이 더 효율적일떄가 많다.