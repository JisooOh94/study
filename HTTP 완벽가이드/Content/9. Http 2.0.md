# HTTP/1.1 단점
### 다수의 리소스 처리 성능
* 현대의 웹페이지는 여러개의 리소스를 포함하고있어 다수의 요청처리 필요
* 하나의 커넥션으로 하나의 요청만 처리할 수 있기 때문에 웹페이지 로드 시간 오래 소요
* 이를 해결하기 위해 병렬 커넥션, 파이프라인 커넥션을 도입하였으나 각각 또다른 문제들이 발생하여 근본적인 해결이 되지 못함
	* 병렬 커넥션 : 큰 대역폭 필요, 매 트랜잭션마다 커넥션을 새로 수립하여 커넥션 수립 비용, 혼잡제어 비용등의 문제 발생
	* 파이프라인 커넥션 : HOL(Head Of Line) Blocking 문제 발생

### 무거운 헤더
* 클라이언트와 서버간 통신에서 대부분의 요청/응답메시지 패킷 헤더 및 쿠키 정보는 중복됨
* 이러한 중복되는 데이터들이 매 요청/응답 패킷에 포함되어 네트워크 트래픽 낭비 발생 

<br>

# HTTP/2.0
* HTTP/1.1 의 느린 속도 개선

### Multiplexed Streams
* 스트림을 통해 하나의 커넥션으로 동시에 여러개의 요청 처리 가능
* 스트림
	* 커넥션의 데이터 통신이 이루어지는 통로
	* 하나의 커넥션에 여러개의 스트림 생성 가능
	* 생성시, 별도의 handshaking 과정이 없어 지연이 발생하지 않음 (HTTP/1.1 병렬커넥션의 문제 해결)
* 여러개의 요청을 병렬 스트림을 통해 전송하기 떄문에, 스트림을 통해 응답을 구분할 수 있어 요청 순서에 상관없이 응답 수신(파이프라인커넥션의 HOL Blocking 문제 해결)

<img src="https://user-images.githubusercontent.com/48702893/140517713-04ab90bc-547e-46c0-963d-283484187d99.png" width="500" height="450">

### Stream Prioritization
* 요청에 대한 우선순위를 지정하여 우선순위가 높을수록 서버가 더 많은 리소스를 투자하게 하여 빠르게 처리 및 더 많은 대역폭을 할당하여 빠르게 응답
* 스트림에 가중치 필드를 두어 우선순위가 더 높은 요청을 전송하는 스트림의 가중치값을 높게 설정
* 웹페이지 렌더링에 더 중요한 리소스에 더 높은 우선순위 부여(e.g. html file > css file > img file)

### Header Compression
* Header Table 을 통해 이전 요청/응답과 중복되는 헤더는 Header Table 의 index 만 보냄으로서 중복 최소화
	* 클라이언트와 서버가 각각 Header Table 저장 및 관리
	* 서버가 중복되는 헤더의 인덱스만 전송시, 클라이언트는 자신의 Header Table 을 참조하여 해당하는 인덱스의 데이터 사용(클라이언트 > 서버 전송시에도 마찬가지)
	* 서버가 새로운 헤더 데이터 전송시, 클라이언트는 자신의 Header Table 갱신
* 중복되지 않는 새로운 헤더데이터는 HPACK 압축방식으로 압축하여 전송

![image](https://user-images.githubusercontent.com/48702893/140522312-be6c3acc-4e56-4875-9c9f-08a8394d1dd1.png)

### Server Push
* 하나의 요청에 대해 요청한 리소스 뿐만 아니라 함께 필요할것이라 예측되는 리소스들까지 함꼐 응답(e.g. html 문서 요청시, css 파일 및 이미지 등의 리소스 파일까지 함께 전송)

***
> Reference
> * https://ssungkang.tistory.com/entry/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-HTTP-11-VS-HTTP-20
> * https://blog.naver.com/agerio100/221948546623
> * 