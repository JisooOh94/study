# 캐시된 데이터의 만료일 식별
### Cache-Control
* 데이터가 캐시된 날짜(Date헤더)로부터 Cache-Control로 설정된 시간만큼 지난 후 캐시데이터 만료
* 초 단위
   e.g) Cache-Control: max-age=484200

### Expires
* 캐시 만료 절대 날짜
* 설정된 날짜, 시간에 만료
* 요일, 일 월 년도, 시:분:초 형식

# 서버 재검사
* 요청이 들어온 캐시데이터가 만료되었을 경우 서버 재검사 수행
* 웹서버에 데이터 수정 여부를 확인하는 간단한 요청메시지 전송하여 확인
* 조건무 GET 메서드를 통해 데이터가 수정되었을 경우에만 데이터 전송
* 조건부 헤더값을 통해 원본 데이터 수정 여부 판단
* 원본데이터가 수정되었을 경우, 새로운 만료 날짜를 포함한 응답 헤더 + 원본데이터 전송
* 원본데이터가 수정되지 않았을 경우, 304 응답코드, 새로운 만료 날짜와 함께 갱신이 필요한 헤더값만을 전송
### 조건부 헤더
* **If-Modified-Since**
   * 캐시 데이터가 마지막으로 수정(캐싱)된 시간
   * 웹서버 원본 데이터의  Last_Modified 헤더필드 값과 비교
   * Last_Modified 값과 If-Modified-Since 값이 다를경우 원본데이터가 수정된것으로 판단
* **If-None-Match**
   * 캐시 데이터의 etag 값
   * 웹서버 원본데이터의 etag 값과 비교하여 값이 다를경우, 원본데이터가 수정된것으로 판단
   * 약한 검사기 지원
   * **Etag 를 사용하는 경우**
      1. 웹서버의 백그라운드 프로세스등에 의해 일부 리소스가 일정시간마다 재작성이 되는 경우(동일한 내용)
      2. 캐시데이터를 갱신하지 않아도 괜찮은, 사소한 내용이 수정되었을 경우
      3. 웹서버에서 최근 변경일시를 정확하게 판별하기 힘든 종류의 리소스인경우
   * **약한 검사기**
      * 캐시데이터를 갱신할 필요가 없는, 사소한 내용이 수정되었을 경우, 수정되지 않았다 판단
      * W/ 접두사를 ETag헤더필드에 붙여 강한 검사기와 구분
         ```
         ETag: W/"v2.6"
         If-None-Match: W/"v2.6"
         ```
### IMS 요청 처리
* If-Modified_Since 조건부 헤더를 이용한 재검사 요청

# Cache-Control
* 캐시 정책에 대한 세세한 설정 헤더 필드
### no-store
* 응답데이터를 클라이언트 로컬캐시에 캐싱x 
### no-cache
* 응답데이터를 클라이언트 로컬캐시에 캐싱
* 캐시적중시 캐시데이터 만료여부 관계없이 항상 재검사 수행
### 휴리스틱 만료
* 응답메시지 헤더에 캐시 만료일 헤더가 포함되어있지 않을경우 임의의 휴리스틱 알고리즘을 이용하여 만료일 계산
### max-stale
* 클라이언트가 요청한 캐시데이터가 이미 만료되었어도 만료된 시간이 max-stale 로 설정한 시간이내라면 클라이언트에서 허용
* 약한검사기
### min-fresh
* 클라이언트가 요청한 캐시데이터가 아직 신선하여도, 앞으로 min-fresh 시간 안에 만료된다면 현재 만료된것으로 판단
* 강한검사기
* 

<!--stackedit_data:
eyJoaXN0b3J5IjpbLTczMDA2MDIzMF19
-->