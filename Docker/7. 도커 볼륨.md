# Stateless
* 기본적으로 모든 컨테이너는 stateless
  * 컨테이너 실행후 발생하는 모든 변경사항은 컨테이너 레이어에만 적용
  * 컨테이너 종료시 모든 변경사항도 함께 사라짐. 이를 통해 이미지의 멱등성 보장

### 장점
* 이미지의 멱등성이 보장되기에 빠른 배포 가능
  * 새로운 버전의 어플리케이션이 배포되어있는 이미지 빌드, 빌드된 이미지로 컨테이너 생성 
* 이미지만 있다면 간단하게 컨테이너를 생성하여 서버 추가 가능
  * 이를 통해 폭증하는 트래픽에 유연하게 대응 가능
  * 서버에 장애 발생시에도, 새로 컨테이너 생성하여 교체함으로서 빠르게 대응 가능

### 단점
* 어플리케이션에서 수정한 데이터의 영속성이 필요하다면 컨테이너 외부 저장소 (호스트 pc 저장소) 필요
  * 서비스 데이터(e.g. DB 데이터) 뿐만 아니라 서버에 저장되는 모든 데이터(e.g. 로그, 캐시) 포함

# 도커 볼륨
* 컨테이너 외부에 데이터를 저장하여, 컨테이너 종료 후에도 데이터가 유지되도록 하기 위한 호스트 pc 저장 공간
* 하나의 도커 볼륨을 (동일한 호스트 pc 에서 구동중인) 여러개의 컨테이너에서 공유하여 사용 가능

### 볼륨 마운트
* 컨테이너의 특정 폴더를 도커 볼륨에 마운트 하는것
* 해당 폴더에 생성, 수정되는 파일 및 데이터들은 도커 볼륨에 저장되어 컨테이너가 종료되어도 유지됨
> 보통 웹애플리케이션의 로그 디렉토리나 데이터베이스의 DB 데이터 저장 디렉토리를 도커 볼륨으로 사용
  
### 도커 볼륨 관련 명령어
* `docker volume create 볼륨명` : 도커 볼륨 생성
* `docker volume inspect 볼륨명` : 도커 볼륨 상세 정보 조회
* `docker volume ls` : 생성되어있는 도커 볼륨 목록 조회
* `docker volume rm 볼륨명` : 도커 볼   
* `docker run -v 볼륨명:마운트디렉토리` : 컨테이너의 특정 디렉토리에 도커 볼륨 마운트
* `docker run -v 볼륨명1:마운트디렉토리1 -v 볼륨명2:마운트디렉토리2` : 하나의 컨테이너에 여러개의 도커 볼륨 마운트 가능
* `docker run -v 볼륨경로:마운트디렉토리`
  * 도커 볼륨은 도커가 내부적으로 생성하여 관리하므로, host pc 를 통해 직접 들여다보는것이 불가능
  * 도커 볼륨 대신, 볼륨으로 사용할 host pc 디렉토리 경로를 직접 명시하면 host pc 를 통해 볼륨 디렉토리 내 파일들 조회 가능
  * 일반적으로 도커 볼륨을 사용하는것이 권장되므로, 디버깅 및 테스트 용도로만 사용
* 
