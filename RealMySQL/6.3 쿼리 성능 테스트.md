# 쿼리 성능 테스트
### 쿼리 수행에 영향을 미치는 요소들
* 운영체제 캐시
	* OS 에서 디스크에서 읽은 데이터를 os 캐시메모리에 캐싱
	* MySql 서버를 재시작하거나 직접 쉘 명령어를 날려 캐시 삭제 가능 
* MySql 버퍼풀
	* 쿼리 수행 결과 데이터 및 사용한 인덱스까지 스로티지엔진의 캐시메모리에 캐싱
	* MySql 서버를 재시작하여 버퍼풀 데이터 삭제 가능
* MySql 쿼리 캐시
	* 쿼리문과 쿼리 수행 결과를 캐싱
	* SQL_NO_CACHE 를 통해 비활성화 가능
	
### 객관적인 성능테스트
* 보편적으로 서비스환경에서 수행되는 쿼리는 MySql 서버가 워밍업(운영체제 캐시 + 버퍼풀)된 상태로 수행되기떄문에 운영체제 캐시 및 MySql 버퍼풀은 무시해도 무방
* 따라서 쿼리테스트 전, 테스트할 쿼리를 여러번 임시로 수행하여 MySql 서버 워밍업 후, 쿼리에 SQL_NO_CACHE 옵션만 추가하여 성능 테스트 수행

### 쿼리 프로파일링
* MySql 서버에서 쿼리 수행시, 쿼리 수행 각 단계별 소요시간을 확인 할 수 있는 기능
* MySql 5.1 버전 이상부터 사용 가능

![image](https://user-images.githubusercontent.com/48702893/115951340-36fa3780-a51b-11eb-9aa8-2f8fdde031b8.png)
