# 파티션
* 하나의 테이블을 여러 테이블로 분리해서 저장하는것
* 동일한 서버장비에서 테이블 파일만 분리하는것이기때문에, 여러 장비에 걸친 부하 분산 개념 X

### 파티션 장점
* 인덱스 테이블 크기 축소를 통한 데이터 DML 작업의 효율성 증대
	* 테이블이 너무 클경우, 인덱스 테이블또한 커지게되고, 그로인해 데이터 생성,수정,삭제 뿐만 아니라 인덱스를 통한 조회작업의 효율성도 떨어지게됨
	* 테이블이 너무 커져, 인덱스 테이블의 크기가 MySql 이 가용한 메모리 크기보다 커질경우, DML 작업이 매우 느려짐
* 주기적으로 특정 그룹의 데이터를 삭제해야하는 작업에 특화
	* 테이블의 reg_ymdt 칼럼값으로 레인지 파티셔닝시, DELETE 쿼리 수행 없이 파티션 drop 을 통해 간단하게 특정 reg_ymdt 인 레코드 삭제 가능
* 파티션 프루닝을 통해 조회 작업의 효율성 증대
	* 옵티마이저가 쿼리 최적화 하며, 조회할 필요가 없는 파티션을 필터링하여 총 scan 해야하는 인덱스/레코드 가 줄어듬

<br>

# 파티션 테이블 CRUD
### CREATE
* 명령어 : PARTITION BY 파티션종류 (기준칼럼) ...
```
-- 레인지 파티션
CREATE TABLE emp_info (...)
PARTITION BY RANGE (YEAR(emp_age)) (
	PARTITION p_1 VALUES LESS THAN (20),
	PARTITION p_2 VALUES LESS THAN (30),
	PARTITION p_1 VALUES LESS THAN (40),
	PARTITION p_1 VALUES LESS THAN (60)
)
```

### INSERT
* 추가하는 레코드의 파티션 키 칼럼값으로 파티션 선택 후, 해당 테이블에 삽입

### UPDATE
* WHERE 조건에 파티션 키 칼럼 조건 존재
	& 해당 조건으로 파티션 선택 후, 해당 파티션 테이블에서 레코드 찾아 update
* WHERE 조건에 파티션 키 칼럼 조건 없음
	* 전체 파티션 테이블에서 레코드 찾아 update
* 파티션 키 칼럼 값 수정
	* 수정할 레코드의 파티션에서 레코드 삭제 후, 수정되는 키 칼럼값으로 파티션 다시 선택하여 수정 레코드 삽입
* 일반 칼럼 값 수정
	* 그냥 수정
	
### SELECT
* WHERE 조건에 파티션 키 칼럼 조건 존재
	* 해당 조건으로 파티션 선택 후, SELECT 쿼리 수행
* WHERE 조건에 파티션 키 칼럼 조건 없음
	* 전체 파티션 테이블에 대해서 SELECT 수행

### 인덱스
* 파티션 테이블에 생성되는 인덱스는 모두 로컬 인덱스
	* 전체 파티션간 정렬이된 글로벌 인덱스 지원하지 않음
* 따라서 여러 파티션에 걸쳐 인덱스 스캔시, 스캔 결과의 정렬이 보장되지 않음
	* MySql 에선 우선순위큐를 이용해 스캔 결과의 정렬 보장

