# Producer Buffer Full 이 빈번하게 발생시
1. batch.size 축소 
   * 배치 크기가 크면 네트워크 요청 수는 줄어들지만, 메모리 사용량이 증가하고, 배치 크기만큼 메시지가 축적되기까지 대기 시간이 길어짐 
   * 배치 크기 축소시, 버퍼(메모리)에 많은 양의 메시지가 쌓이기 전에 자주 메시지를 전송하게 되어 버퍼가 가득 차는 문제 완화 
   * 다만, 그만큼 네트워크 비용 및 브로커 부하 증가
2. buffer.memory 증대
   * 장비 메모리 가용량 고려하여 증대
3. 브로커 및 네트워크 병목 확인
   * 브로커나 네트워크에서 병목이 발생해, producer 가 acks 를 받기까지 지연이 발생한다면 메시지를 전송하지 못하고 대기하게 되므로 버퍼 full 발생
   * 브로커가 병목이 된다면, 브로커 구성 변경이나 브로커 서버 추가를 통한 scale-out
   * 네트워크가 병목이 된다면, 네트워크 대역폭 증대와 같은 네트워크 지연 감소를 위한 조치 필요
4. acks 설정 검토
   * acks 가 1이나 all 일 경우, producer 가 메시지 전송후 ack 를 받기까지 더 오래 걸림.
   * 메시지 영속성에 어느정도 타협이 가능하다면, acks 설정값을 낮춰 프로듀싱 속도 증가를 통한 버퍼 full 해소

> Broker 가 병목일때, 파티션 증대는 Producer Buffer Full 상황시에 별로 도움이 되지 않는다.
> * 파티션을 늘린다고해도, 이미 리소스 부족으로 병목이 발생하고 있는 기존 Broker 들중 하나에 할당이 될 것이기 때문
> * 일반적으로 파티션 증대는, 컨슈밍 개수를 늘려 컨슈머 성능을 향상시키고자할때 사용
