# AOP 에서 프록시의 역할
* 프록싱 과정 : 메서드 호출 인터셉트 > 포인트컷 검사 > (적용대상일경우) 어드바이스 수행 > 기존 메서드 호출
* 인터셉트, 포인트컷 검사 - 프록시, 어드바이스 수행 - AOP 프레임워크 

# 프록시 종류
### JDK 프록시
* 인터페이스 구현 클래스 객체만 프록싱 가능
* JDK 프록싱 과정 : 인터셉트 > 프록시 invoke 메서드 호출 > 포인트컷 검사 > 어드바이스 수행 > 리플렉션을 통해 기존 메서드 호출
* 단점
	* 써드파티 라이브러리등에 주로 있는 인터페이스를 구현하지 않은 클래스 객체 프록싱 불가능
	* 리플렉션으로 인한 애플리케이션 성능 저하 발생
		* 포인트컷 검사를 프록시의 invoke 메서드 내에서 수행
		* 포인트컷 검사후 어드바이스 적용대상여부에 관계없이 리플렉션으로 기존 메서드 호출
		* 메서드 호출시마다 성능이 나쁜 리플렉션이 사용되므로 애플리케이션 성능 저하 유발

### CGLIB 프록시
* 인터페이스를 구현하지 않은 일반클래스도 프록싱 가능
* 컴파일시 포인트컷을 검사하여 위빙된 메서드 코드로 컴파일
	* 컴파일시점에 1번만 포인트컷 검사하고 리플렉션도 사용하지 않으므로 애플리케이션 성능 저하 없음
* 정적 AOP만 적용 가능, final 클래스 메서드에 AOP 적용 불가능
# 프록시 구현체 선택
* 인터페이스를 상속받지 않은 클래스의 경우 CGLIB 프록시만 가능
* 동적 AOP 를 적용해야하는 경우 JDK 프록시만 가능
* 인터페이스 상속 클래스에 정적 AOP 적용하는 경우 성능상 비교를 통해 선택
	* 고정 어드바이스를 적용하는 경우, 고정모드(setOptimize)로 사용하는 GGLIB 가 성능이 더 좋음
		> cf) 고정 어드바이스 : 에스펙트에 적용한 어드바이서가 런타임중에 바뀌지 않는것
	* 고정 어드바이스가 아닌경우, JDK 프록시와 CGLIB 프록시의 성능은 비슷
 