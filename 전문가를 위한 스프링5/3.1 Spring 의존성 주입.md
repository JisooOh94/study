# 의존성 주입 컨테이너
* Bean 객체 생성 및 등록, 관리, 각 Bean 객체간의 의존관계 설정등의 기능을 수행하는 컨테이너, 즉 의존성 주입을 수행하는 주체
* Spring에서 DI 컨테이너 인터페이스 인 BeanFactory 인터페이스를 구현한 여러 구현체 제공 (ApplicationContext, DefaultListableBeanFactory 등)

### BeanFactory
* ApplicationContext
   * Bean pre-loading (ApplicationContext 객체가 생성될때 등록정보에 명시되어있는 모든 bean 생성 및 등록 수행)
   * BeanFactory 초기화작업(DI 컨테이너 객체 생성및 bean 등록, 의존성 주입) 을 Spring에 위임하여 자동으로 수행됨(web.xml의 ContextLoaderLister가 수행)
   * 특수한 경우가 아니라면 코드가 더 간결해지고 버그 위험성도 적은 ApplicationContext 구현체를 사용하는것이 권장됨
* 그외의 BeanFacotry 구현체
   * Bean lazy-loading (구현체 객체 생성 후, 런타임에서 bean 객체가 호출될때 bean 생성 및 등록 수행)
   * 코드로 직접 BeanFactory 초기화 작업 수행 필요
      * Bean 등록정보가 있는 설정파일이나 클래스를 BeanDefinitionReader 를 통해 읽어 BeanFactory 객체 생성시 명시해주어야 함
      * 등록정보 형태에 따라 사용되는 BeanDefinitionReader 가 다름(properties 파일 : PropertiesBeanDefinitionReader, xml 파일 : XmlBeanDefinitionReader 등)
      * 생성후, getBean(beanName) api 를 통해 의존성 생성
      > cf) 내가 보기엔 의존성 룩업처럼 보인다.
   * DefaultListableBeanFactory 등...

```java
public static void main(Stringp[] args) {
	DefaultListableBeanFactory beanFactory = new DefaultListableBeanFactory();
	
	XmlBeanDefinitionReader beanDefinitionReader = new XmlBeanDefinitionReader(beanFactory);
	beanDefinitionReader.loadBeanDefinitions(new ClassPathSource("path/to/bean/file.xml"));
	
	Foo foo = beanFactory.getBean("foo");	//의존성 룩업 아닌감...
}

//beanDefinitionFile.xml
<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:context="http://www.springframework.org/schema/context">
	<bean id="foo" class="com.naver.drive.Foo"/>
</beans>
```

