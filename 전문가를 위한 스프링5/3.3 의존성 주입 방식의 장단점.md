# 의존성 주입 방식의 장단점
# 필드 주입
### 장점
* 코드 길이 단축

### 단점
* DI 컨테이너에 의존성 생성
	* DI 프레임워크의 핵심 개념중 하나는 'Spring 컴포넌트 클래스가 DI 컨테이너에 의존하지 않아야 한다'
	* 따라서 컴포넌트 클래스는 DI 컨테이너 없이도 인스턴스 생성 및 멤버필드 설정이 가능한 POJO 이어야함
	* 협력객체를 DI 컨테이너가 직접 필드에 주입하므로 DI 컨테이너를 통하지 않고는 필드에 협력객체를 설정할 방법이 없고 따라서 DI 컨테이너를 통해서만 정상적으로 인스턴스 생성가능
	* 테스트 코드 작성시 Spring 설정파일을 읽어 bean 등록을 통해 컴포넌트클래스 인스턴스를 생성해야 모든 협력객체 필드가 주입된 정상적인 인스턴스를 생성하고 테스트 할 수 있음
* 의존관계 파악 불가능
	* DI 컨테이너의 컨셉은 클래스가 자신의 의존성만 관리하는것이 아닌, 주입된 의존성도 책임지는것
	* 따라서 클래스 외부(의존객체 사용코드)에 의존관계 노출함으로서 어느 의존객체들을 책임지는지 커뮤니케이션 필요
	* 수정자, 생성자 주입의 경우 수정자, 생성자 메서드를 통해 외부에서 의존관계를 명확히 알 수 있으나, 필드 주입의 경우 외부에서 의존객체 내부의 필드를 알 수 없으므로 의존관계 파악 불가능

<br>

# 수정자 주입
### 장점
* 필드 주입의 단점 해소
* 런타임 시점에 자유롭게 의존클래스의 협력객체 교체 가능

### 단점
* 협력객체 setter 메서드를 일일히 추가해주어야 하므로 코드 길이가 길어지고 코드 가독성 저하 발생
* 필수 주입 객체들이 주입되지 않아도 의존객체 인스턴스 생성이 가능하여 NPE 발생 가능

<br>

# 생성자 주입
### 장점
* 필드 주입의 단점 해소
* 수정자 주입의 단점 해소
	* 생성자 파라미터를 통해 한번에 협력객체들을 전달하여 주입하므로 가독성이 저하되지 않음
	* 생성자 파라미터로 필수 주입 객체들을 전달하지 않으면 컴파일 에러 발생
* 협력객체를 주입받을 참조변수를 final 로 선언하여 불변 설정 가능
	* 주입받은 협력객체를 교체할 수 없도록 차단
* 순환참조 버그 검출 가능

### 단점
* 런타임시점에 의존클래스의 협력객체 교체 불가능
* 생성자 파라미터가 많아질경우 가독성 저하 발생 (리팩토링 필요 indicator)
	* 생성자 파라미터가 많다 > 해당 클래스의 기능이 지나치게 크다 > 단일책임원칙을 위해했으므로 관심사분리 리팩토링 필요

<br>
	
# 적절한 의존성 주입 전략
* 의존클래스에 필수적이거나 불변인 프로퍼티들은 생성자를 통해 주입
* 선택적으로 필요하거나 런타임시점에 유연하게 교체가 필요한 프로퍼티들은 수정자를 통해 주입