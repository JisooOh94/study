# Redis Cluster
* 데이터를 여러 노드에 분산하여 저장하고, 자동으로 데이터 샤딩을 처리하여 확장성과 고가용성을 제공하는 Redis의 분산 시스템 솔루션
* 대규모 데이터 저장과 높은 처리량을 필요로 하는 애플리케이션에 적합


## 주요 개념
### 데이터 샤딩
* 데이터를 키의 해시 값을 기반으로 여러 노드에 분산하여 저장
* 이를 통해 데이터의 수평적 확장 가능

### 해시 슬롯
* Redis Cluster는 16384개의 해시 슬롯을 사용함.
* 각 키는 해시 함수를 통해 해시 슬롯에 매핑되며, 각 노드는 특정 범위의 해시 슬롯을 담당

### 마스터-슬레이브 구조
* 각 노드는 마스터와 슬레이브로 구성
* 마스터 노드는 데이터를 저장하고, 슬레이브 노드는 마스터의 데이터를 복제하여 고가용성 보장

### 클러스터 매니저
* 클러스터의 상태를 모니터링하고, 필요시 Failover 수행
* 클러스터 노드 간의 통신 관리


## 동작 방식
### 데이터 분산
* 클라이언트가 데이터(key-value) 저장 요청시, 키의 해시 값을 계산하여 해당 키가 어느 해시 슬롯에 속하는지 확인 
* 확인한 해시 슬롯을 담당하는 마스터 노드에 데이터를 저장 요청 전송

### 읽기 및 쓰기
* 클라이언트는 키의 해시 값을 기반으로 데이터 읽기, 쓰기 수행
* 읽기 요청은 마스터 노드나 슬레이브 노드에서 처리할 수 있으며, 쓰기 요청은 마스터 노드에서 처리

### Failover
* 마스터 노드가 장애를 일으키면, 해당 마스터의 슬레이브 중 하나가 자동으로 마스터로 승격. 이를 통해 고가용성 보장


## 장점
### 확장성
* 데이터를 여러 노드에 분산하여 저장함으로써, 데이터의 수평적 확장이 가능함
  * 노드를 추가하여 간단하게 scale-out 가능
* 데이터 읽기 작업의 부하 분산 뿐만 아니라 데이터 쓰기 작업의 부하 분산까지 가능

### 고가용성
* 마스터-슬레이브 구조와 Failover를 통해 고가용성 보장

### 자동 데이터 분산
* 해시 슬롯을 기반으로 데이터를 자동으로 분산 저장하므로 각 노드에 균일하게 데이터 저장
* 이를 통해 전체 노드의 자원을 효율적으로 사용 가능


## 단점
### 복잡성 증가
* 클러스터 설정 및 관리, 노드 간의 통신과 데이터 분산 관리 필요


> Reference
> * https://kjw1313.tistory.com/118
> * https://velog.io/@ekxk1234/Redis-Cluster
