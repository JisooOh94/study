# LangChain: LLM 앱 개발 종합 프레임워크

LangChain은 LLM(대규모 언어 모델) 기반 애플리케이션을 쉽게 만들 수 있는 **오픈 소스 프레임워크임.** 여러 구성 요소를 연결해 복잡한 작업을 수행함.

### 주요 특징

* **모듈성:** 다양한 기능을 모듈 형태로 제공, 선택하여 조합 가능함.
    * **LLMs:** Gemini, GPT 등 여러 LLM API를 표준화된 인터페이스로 연결함.
    * **Prompts:** LLM 입력 메시지를 효과적으로 구성하고 관리함.
    * **Chains:** LLM 호출과 다른 작업(데이터 처리, 외부 API)을 순차적으로 연결함.
    * **Agents:** LLM이 스스로 **도구(Tool)**를 사용하고 행동을 결정하도록 도움.
    * **Memory:** LLM이 이전 대화 맥락을 기억하도록 함.
    * **Tools:** LLM이 외부(검색, 계산기 등)와 상호작용하도록 연결함.
    * **Retrievers:** 외부 데이터에서 관련 정보를 검색해 LLM에 전달함 (RAG).
* **통합:** 수백 가지 외부 시스템(모델, 벡터 스토어, DB 등)과 연동 가능함.
* **오케스트레이션:** 여러 구성 요소와 모델의 연결 및 제어 흐름을 관리함.

### 주요 사용 사례

* **챗봇 및 대화형 AI:** 지능적인 대화 기능 구현.
* **문서 Q&A (RAG):** 문서나 DB에서 정보 찾아 질문 답변.
* **데이터 추출/요약:** 비정형 텍스트 처리.
* **코드 생성/분석:** 개발 보조 기능.
* **다단계 추론:** 여러 단계를 거치는 복잡한 문제 해결.

### LangChain의 강점

* **유연성:** 거의 모든 LLM 앱 구축 가능함.
* **확장성:** 새로운 요소 쉽게 추가/변경 가능함.
* **생산성:** 미리 정의된 컴포넌트로 빠른 개발 가능함.

---

# LangGraph: 상태 관리 및 순환 워크플로우를 위한 확장

LangGraph는 LangChain 위에 구축된 라이브러리임. **상태를 유지**하고, **반복(loops) 및 순환(cycles)**이 가능한 **복잡한 에이전트 워크플로우**를 만드는 데 특화됨.

### 주요 특징

* **그래프 구조:**
    * 워크플로우를 **노드(Node)**와 **엣지(Edge)**로 구성된 그래프로 표현함.
    * **노드:** LLM 호출, 도구 사용 등 특정 작업 단계. (LangChain의 Runnable 객체 사용)
    * **엣지:** 노드 간의 흐름 정의. **조건부 엣지**로 상황에 따른 동적 결정 가능함.
* **상태 관리:**
    * 워크플로우 전반에 걸쳐 **상태(state)**를 유지하고 업데이트함.
    * 모든 노드에서 상태 접근/수정 가능, 긴 대화 맥락 유지에 필수적임.
* **순환 및 반복:**
    * 그래프 구조로 **순환(loops)** 구현 가능함.
    * 에이전트가 특정 작업을 반복하거나, 조건 충족까지 재시도하도록 설정 가능함.
* **다중 에이전트 조정:**
    * 여러 에이전트 간의 **협력과 정보 교환**을 효과적으로 조율함 (A2A 구현에 강력함).
* **신뢰성 및 제어력:**
    * 복잡한 에이전트 시스템 동작을 더 정교하게 제어 가능함.

### 주요 사용 사례

* **고급 대화형 에이전트/챗봇:** 복잡한 대화 흐름, 반복적 정보 탐색, 피드백 기반 응답 개선.
* **자율 에이전트:** 스스로 계획하고, 도구 사용, 실패 시 재시도.
* **코드 생성/디버깅 워크플로우:** 코드 생성, 에러 확인, 수정 반복.
* **복잡한 비즈니스 프로세스 자동화:** 여러 단계와 조건부 분기가 있는 의사결정 자동화.

### LangGraph의 강점

* **상태 관리:** 컨텍스트 및 중간 결과 효율적 유지.
* **순환 워크플로우:** 반복 또는 재시도 필요한 시나리오에 강력함.
* **제어력:** 에이전트 동작 세밀하게 제어, 유연한 대응 가능함.
* **멀티 에이전트 시스템:** 복잡한 에이전트 협업 효과적으로 오케스트레이션함.

---

# LangChain과 LangGraph 관계 & LLM 통합

LangGraph는 LangChain 위에 구축됨. LangChain의 컴포넌트들을 LangGraph의 노드로 사용함. 두 프레임워크 모두 Gemini, GPT 등 **다양한 LLM과의 통합을 지원함.**

* **표준화된 인터페이스:** LLM API 호출을 추상화하여 제공함.
* **프롬프트 관리:** LLM에 전달되는 프롬프트를 효율적으로 생성/관리함.
* **워크플로우 내 통합:** LLM 호출이 Chain 또는 Node의 핵심 구성 요소가 됨.

### 언제 무엇을 사용하나?

| 특징           | LangChain                                      | LangGraph                                             |
| :------------- | :--------------------------------------------- | :---------------------------------------------------- |
| **적합한 앱** | 선형/간단한 DAG 워크플로우, RAG, 기본 챗봇     | 상태 유지, 반복, 조건부 분기, **멀티 에이전트 협업** |
| **복잡도** | 비교적 단순한 워크플로우                       | 복잡하고 동적인 워크플로우                            |
| **핵심 기능** | LLM과 외부 컴포넌트 연결, 기본 체인 구성       | **상태 관리, 순환(Loop), 그래프 기반 오케스트레이션** |
| **제어력** | 일반적인 제어                                  | 에이전트 동작에 대한 세밀한 제어 및 예측 가능성 높음  |
