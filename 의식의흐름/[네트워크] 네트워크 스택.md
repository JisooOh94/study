# TCP/IP 프로토콜 통신 레이어
* 호스트 영역
	* CPU 가 작업을 수행하는 영역
	* 유저영역(애플리케이션), 커널영역 으로 구성
* 디바이스 영역
	* NIC(Network Interface Card. 랜카드) 가 작업을 수행하는 영역
	* 패킷 송수신 담당

# TCP/IP 프로토콜 데이터 송신 과정

![image](https://user-images.githubusercontent.com/48702893/104942692-22784180-59f8-11eb-857d-677bc52d5907.png)

### 1. Application
* 애플리케이션에서 write() 시스템 콜 호출하여 커널모드전환, 데이터 전송 시작
* POSIX 운영체제(linux, unix등)의 경우 소켓을 하나의 파일처럼 인식하여 애플리케이션에서 파일입출력 함수를 통해 소켓에 데이터 read/write

> 파일 디스크립터(File Descriptor)
> * 운영체제가 만든 파일 또는 소켓등을 지칭하기 위해 부여하는 숫자
> * 파일/소켓을 open() 함수로 열면, 고유한 숫자를 가진 파일 디스크립터(fd) 반환
> * 파일 디스크립터 테이블의 정보를 조회하는데에 사용되는 key

> 파일 디스크립터 테이블
> * 파일 관리 및 read/write 하기위해 필요한 정보가 저장되는 테이블
> * 파일이름, 파일 저장 위치, 파일 유형 등의 정보 저장

![image](https://user-images.githubusercontent.com/48702893/104943958-dc23e200-59f9-11eb-820f-7e8f800db65f.png)

### 2. File
* 파일 디스크립터 validation
* Application 에서 호출한 파일입출력 함수(write)를 구현한 소켓 API 호출

### 3. Sockets
* 전송요청된 데이터를 유저영역 메모리(애플리케이션 Head/Stack 메모리)에서 커널영역 메모리의 send socket buffer 로 복사
> 소켓은 송신용 버퍼(send socket buffer), 수신용 버퍼(receive socket buffer) 내장

### 4. TCP


### 5. IP

### Ethernet

### Driver

### NIC